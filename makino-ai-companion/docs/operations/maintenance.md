# 保守運用ガイド

## 日常運用フロー

### 1. ログ確認

毎日、スプレッドシートのログを確認し、以下をチェックする:

- エスカレーションの発生有無
- 低確信度回答の有無
- Bad評価の有無
- システムエラーの有無

### 2. ナレッジベース更新

新しいナレッジを追加する手順:

1. 追加するデータをラベリングスキーマに従って構造化
2. CSVまたはスプレッドシートに追記
3. Difyのナレッジベースにインポート
4. テスト質問で動作確認

### 3. プロンプト調整

回答品質に問題がある場合の調整手順:

1. 問題のある回答ログを特定
2. 原因分析（ナレッジ不足 / プロンプト問題 / RAG検索精度）
3. 該当箇所の修正
4. 修正前後の比較テスト

## トラブルシューティング

| 症状 | 原因候補 | 対処法 |
|------|---------|--------|
| AI伴走システムが応答しない | Difyサーバーダウン | Dify管理画面で状態確認、再起動 |
| 回答が生成されない | APIキー期限切れ | APIキーの更新 |
| ログが記録されない | Webhook設定エラー | Webhook URLとGAS設定の確認 |
| 回答精度が低下 | ナレッジベースの劣化 | データの再検証・更新 |
| 人格が崩壊する | プロンプト設定の不整合 | システムプロンプトの再確認 |

## Dify管理画面の基本操作

### アプリ設定の変更

1. Dify管理画面にログイン
2. 対象のアプリケーションを選択
3. 「設定」タブでパラメータ調整

### ナレッジベースの管理

1. 「ナレッジ」タブを選択
2. データセットの追加/更新/削除

## 2年目以降の保守サポート範囲

### 基本サポート（含む）

- エラー対応（API連携エラー、サーバーダウン等）
- 技術的相談（Difyアップデート影響、操作方法）
- 軽微な修正（フレーズ微修正、パラメータ調整）

### オプション（別途相談）

- 定期的なナレッジ更新作業
- 月次レポート作成
- 大規模なプロンプト改修
- 新規Pattern追加
- Q&Aデータ詳細分析
